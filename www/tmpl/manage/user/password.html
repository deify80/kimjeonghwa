<form id="FrmPasswordChange" >
<table class="table table-bordered table-form">
	<colgroup>
		<col width="120px">
		<col>
	</colgroup>
	<tbody>
		<tr>
			<th>현재 비밀번호</th>
			<td><input type="password" name="password" size="30" class="validate[required]" autocomplete="off" /></td>
		</tr>
		<tr>
			<th>새 비밀번호</th>
			<td><input type="password" name="password_new" id="password_new" size="30" class="validate[required,minSize[6]]"  autocomplete="off" /></td>
		</tr>
		<tr>
			<th>새 비밀번호 확인</th>
			<td><input type="password" name="password_new_confirm"  size="30" class="validate[required,minSize[6], equals[password_new]]" data-errormessage-pattern-mismatch="새 비밀번호가 일치하지 않습니다."  autocomplete="off" /></td>
		</tr>

	</tbody>
</table>

<div class="area-button">
	<button type="submit" class="btn btn-theme btn-lg">변경하기</button>
	<button type="button" class="btn btn-gray btn-lg modal-close">닫기</button>
</div>
</form>

<script type="text/javascript">
var PasswordChange = {
	init: function() {
		var me = this;
		var option = $.extend({},validation_option, {
			promptPosition:'centerRight',
			onValidationComplete: function(form, status){
				if(status) me.save();
			}
		});

		$("#FrmPasswordChange").validationEngine('attach',option);
	},
	save: function() {
		var formdata = $("#FrmPasswordChange").serialize();
		$.ajax({
			type : "POST",
			url : "/manage_proc/update_passwd",
			data : formdata,
			dataType: 'json',
			type:'POST',
			success : function(r) {
				HmisAlert.alert(r.msg, function(){
					if(r.success) {
						$('.modal-close').trigger('click', [r.data]);			
					}
					
				});

			}
		});
	}
}

$(function() {
	PasswordChange.init();
});

</script>